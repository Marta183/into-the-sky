-- we don't know how to generate root <with-no-name> (class Root) :(

comment on database postgres is 'default administrative connection database';

create table "user"
(
    id       bigint generated by default as identity
        constraint user_pk
            primary key,
    email    varchar(200) not null
        constraint user_email
            unique,
    password varchar(129) not null,
    name     varchar(120)
)
    using ???;

alter table "user"
    owner to postgres;

create table external_project
(
    id   bigint generated by default as identity
        constraint external_project_pk
            primary key,
    name varchar(120) not null
)
    using ???;

alter table external_project
    owner to postgres;

create table user_external_project
(
    user_id             bigint not null
        constraint user_id_fk
            references "user",
    external_project_id bigint not null
        constraint external_project_id_fk
            references external_project,
    constraint user_external_project_pk
        primary key (user_id, external_project_id)
)
    using ???;

alter table user_external_project
    owner to postgres;

